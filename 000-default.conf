<VirtualHost *:1234>
  ServerName cactos-runtime.example.com:1234	# replace with valid hostname
  
  Define runtimeController	134.60.64.160	# set IP to runtime controller
  Define runtimeManagement	134.60.64.160	# set IP to runtime management
  Define monitoringService	134.60.64.143	# set IP to the monitoring hbase REST interface
  Define colosseumServer	134.60.64.254	# set IP to colosseum server of cloudiator

  ## '/tmp/runtime-user-interface' is this the directory where you
  ## cloned this repository to
  DocumentRoot "/tmp/runtime-user-interface/www"

  <Directory "/tmp/runtime-user-interface/www">
    Options FollowSymLinks MultiViews
    AllowOverride None
    Require all granted
  </Directory>


  ErrorLog ${APACHE_LOG_DIR}/error.log
  CustomLog ${APACHE_LOG_DIR}/access.log combined

  ProxyPassMatch ^/api/global/(.*) http://${runtimeController}:8080/global/$1
  ProxyPassReverse ^/api/global/(.*) http://${runtimeController}:8080/global/$1

  ProxyPassMatch ^/api/apps/deployment/(.*) http://${runtimeManagement}:9090/services/applications/$1
  ProxyPassReverse ^/api/apps/deployment/(.*) http://${runtimeManagement}:9090/services/applications/$1

  ProxyPassMatch ^/api/apps/colosseum/(.*) http://${runtimeManagement}:9000/$1
  ProxyPassReverse ^/api/apps/colosseum/(.*) http://${runtimeManagement}:9000/$1

  ProxyPassMatch ^/api/dc/computenodes/(.*) http://${monitoringService}:8081/$1
  ProxyPassReverse ^/api/dc/computenodes/(.*) http://${monitoringService}:8081/$1

  ProxyPassMatch ^/api/dc/(.*) http://${runtimeController}:8080/dc/$1
  ProxyPassReverse ^/api/dc/(.*) http://${runtimeController}:8080/dc/$1
  ProxyPassMatch ^/api/cactoopt/(.*) http://${runtimeController}:8080/cactoopt/$1
  ProxyPassReverse ^/api/cactoopt/(.*) http://${runtimeController}:8080/cactoopt/$1

  ### TODO: add support for visor
  ### TODO: add support for monitoring dashboard
  #ProxyPassMatch ^/metrics/source/(.*) http://monitoring.dashboard:5050/$1
  #ProxyPassReverse ^/metrics/source/(.*) http://monitoring.dashboard:5050/$1
</VirtualHost>